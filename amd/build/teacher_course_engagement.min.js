define ("local_ace/teacher_course_engagement",["exports","core/ajax","core/chart_builder","core/chart_output_chartjs","local_ace/chart_filters"],function(a,b,c,d,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=f(b);c=f(c);d=f(d);function f(a){return a&&a.__esModule?a:{default:a}}var g=[];a.init=function init(){(0,e.init)(h);h(null,null)};var h=function(a,b){var e=l(a,b).then(function(a){if(null!==a.error||0===a.series.length){k(a.error);return null}var b=j();a.series.forEach(function(a){if(!g[a.title]){g[a.title]=parseInt(16777215*Math.random()).toString(16)}var c=i();c.label=a.title;c.values=a.values;c.colors=["#"+g[a.title]];b.series.push(c)});b.labels=a.xlabels;b.axes.y[0].max=100;b.axes.y[0].stepSize=20;var c={};a.ylabels.forEach(function(a){c[a.value]=a.label});b.axes.y[0].labels=c;return b}).catch(function(){k("API Error")});e.then(function(a){if(null===a){return}var b=document.querySelector("#chart-area-engagement"),e=b.querySelector(".chart-image");e.innerHTML="";c.default.make(a).then(function(a){new d.default(e,a)}).catch()}).catch()},i=function(){return{label:"",labels:null,type:null,values:[],colors:[],fill:null,axes:{x:null,y:null},urls:[],smooth:null}},j=function(){return{type:"line",series:[],labels:[],title:"Course Engagement",axes:{x:[],y:[{label:null,labels:{},max:100,min:0,position:null,stepSize:null}]},legend_options:{display:!0},config_colorset:null,smooth:!0}},k=function(a){var b=document.querySelector("#chart-area-engagement"),c=b.querySelector(".chart-image");c.innerHTML=a},l=function(a,c){return b.default.call([{methodname:"local_ace_get_teacher_course_analytics_graph",args:{start:a,end:c}}])[0]}});
//# sourceMappingURL=teacher_course_engagement.min.js.map
