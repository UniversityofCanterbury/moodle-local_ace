{"version":3,"sources":["../src/teacher_course_engagement.js"],"names":["HIDDEN_COURSES","COURSES","COLOURS","init","parameters","colours","updateGraph","document","querySelector","addEventListener","courseFilter","modalPromise","ModalFactory","create","type","types","SAVE_CANCEL","then","modal","getRoot","classList","add","setTitle","templatePromise","Templates","render","courses","setBody","setSaveButtonText","on","ModalEvents","bodyRendered","forEach","shortname","input","checked","save","checkedCourses","querySelectorAll","ele","includes","value","push","hidden","destroy","show","fail","Notification","exception","startDate","endDate","engagementData","getTeacherCourseEngagementData","response","error","series","length","displayError","data","getGraphDataPlaceholder","i","label","seriesData","getSeriesPlaceholder","values","colors","labels","xlabels","axes","y","max","stepSize","yLabels","ylabels","element","style","display","catch","chartArea","chartImage","innerHTML","ChartBuilder","make","chart","chartoutput","ChartJSOutput","getHiddenCourses","courseList","preferences","split","chartjs","_chartjs","dataset","datasets","datasetObject","update","legendClickHandler","e","legendItem","index","datasetIndex","ci","meta","getDatasetMeta","filter","course","updateHiddenCourses","request","methodname","args","join","Ajax","call","name","langString","start","end"],"mappings":"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","sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n * Shows the teacher course engagement graph\n *\n * @module      local_ace/teacher_course_engagement\n * @copyright   2021 University of Canterbury\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Ajax from 'core/ajax';\nimport ChartBuilder from 'core/chart_builder';\nimport ChartJSOutput from 'core/chart_output_chartjs';\nimport Notification from 'core/notification';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from \"core/modal_events\";\nimport Templates from \"core/templates\";\nimport {init as filtersInit} from 'local_ace/chart_filters';\n\n// List of course shortnames hidden on the graph.\nlet HIDDEN_COURSES = [];\n// List of courses that could be displayed on the graph, updated after fetching engagement data.\nlet COURSES = [];\nlet COLOURS = [];\n\nexport const init = (parameters) => {\n    COLOURS = parameters.colours;\n    filtersInit(updateGraph);\n\n    document.querySelector(\"#course-filter\").addEventListener(\"click\", courseFilter);\n};\n\n/**\n * Presents a modal for user to select courses to be shown, hides all unselected courses.\n */\nconst courseFilter = () => {\n    var modalPromise = ModalFactory.create({type: ModalFactory.types.SAVE_CANCEL});\n\n    modalPromise.then(function(modal) {\n        modal.getRoot()[0].classList.add('local_ace-slim-modal');\n        modal.setTitle(\"Course filter\");\n        let templatePromise = Templates.render('local_ace/course_filter_modal', {courses: COURSES});\n        modal.setBody(templatePromise);\n        modal.setSaveButtonText(\"Filter\");\n\n        // Set any course that is hidden to be unchecked in modal.\n        modal.getRoot().on(ModalEvents.bodyRendered, function() {\n            HIDDEN_COURSES.forEach((shortname) => {\n                let input = document.querySelector('input[id=course-filter-' + shortname + ']');\n                if (input !== null) {\n                    input.checked = false;\n                }\n            });\n        });\n\n        // Update the hidden courses list, hiding them on the chart and legend.\n        modal.getRoot().on(ModalEvents.save, function() {\n            let checkedCourses = document.querySelectorAll('input[name=\"course-filter-options\"]:not(:checked)');\n            checkedCourses.forEach((ele) => {\n                if (!HIDDEN_COURSES.includes(ele.value)) {\n                    HIDDEN_COURSES.push(ele.value);\n                }\n            });\n            updateGraph();\n        });\n\n        modal.getRoot().on(ModalEvents.hidden, () => {\n            // Destroy when hidden, removes modal HTML from document.\n            modal.destroy();\n        });\n\n        modal.show();\n        return modal;\n    }).fail(Notification.exception);\n};\n\nconst updateGraph = (startDate, endDate) => {\n    let engagementData = getTeacherCourseEngagementData(startDate, endDate).then((response) => {\n        if (response.error !== null || response.series.length === 0) {\n            displayError(response.error);\n            return null;\n        }\n        let data = getGraphDataPlaceholder();\n        // Reset courses list, stops us from showing courses that are no longer returned.\n        COURSES = [];\n        let i = 0;\n        response.series.forEach((series) => {\n            COURSES.push({shortname: series.label});\n            let seriesData = getSeriesPlaceholder();\n            seriesData.label = series.label;\n            seriesData.values = series.values;\n            // Choose a colour from the array and wrap around when reaching the end.\n            seriesData.colors = [COLOURS[i % COLOURS.length]];\n            i++;\n            data.series.push(seriesData);\n        });\n        data.labels = response.xlabels;\n        data.axes.y[0].max = 100;\n        data.axes.y[0].stepSize = 25;\n        let yLabels = {};\n        response.ylabels.forEach((element) => {\n            yLabels[element.value] = element.label;\n        });\n        data.axes.y[0].labels = yLabels;\n\n        if (response.series.length > 8) {\n            document.querySelector(\"#course-filter-wrap\").style.display = null;\n        }\n\n        return data;\n    }).catch(() => {\n        displayError(\"API Error\");\n    });\n\n    engagementData.then((data) => {\n        if (data === null) {\n            return;\n        }\n        let chartArea = document.querySelector('#chart-area-engagement');\n        let chartImage = chartArea.querySelector('.chart-image');\n        chartImage.innerHTML = \"\";\n        ChartBuilder.make(data).then((chart) => {\n            let chartoutput = new ChartJSOutput(chartImage, chart);\n\n            // Hides courses based on user preferences.\n            getHiddenCourses().then(response => {\n                if (response.error) {\n                    return;\n                }\n                let courseList = response.preferences[0].value;\n                if (courseList === null) {\n                    return;\n                }\n                HIDDEN_COURSES = courseList.split(\",\");\n                // Get the specific chartjs instance created by the graph output.\n                let chartjs = chartoutput._chartjs;\n                for (let dataset in chartjs.data.datasets) {\n                    let datasetObject = chartjs.data.datasets[dataset];\n                    if (HIDDEN_COURSES.includes(datasetObject.label)) {\n                        datasetObject.hidden = true;\n                    }\n                }\n                chartjs.update();\n                return;\n            }).fail(Notification.exception);\n            return;\n        }).catch();\n        return;\n    }).catch();\n};\n\nconst getSeriesPlaceholder = () => {\n    return {\n        \"label\": \"\",\n        \"labels\": null,\n        \"type\": null,\n        \"values\": [],\n        \"colors\": [],\n        \"fill\": null,\n        \"axes\": {\n            \"x\": null,\n            \"y\": null\n        },\n        \"urls\": [],\n        \"smooth\": null\n    };\n};\n\nconst getGraphDataPlaceholder = () => {\n    return {\n        \"type\": \"line\",\n        \"series\": [],\n        \"labels\": [],\n        \"title\": \"Course Engagement\",\n        \"axes\": {\n            \"x\": [],\n            \"y\": [\n                {\n                    \"label\": null,\n                    \"labels\": {},\n                    \"max\": 100,\n                    \"min\": 0,\n                    \"position\": null,\n                    \"stepSize\": null\n                }\n            ]\n        },\n        \"legend_options\": {\n            \"display\": true,\n            \"position\": 'right',\n            \"onClick\": legendClickHandler\n        },\n        \"config_colorset\": null,\n        \"smooth\": true\n    };\n};\n\n/**\n * Handles clicks on dataset legends.\n *\n * @param {Object} e Event\n * @param {Object} legendItem Chart.JS Legend item\n */\nconst legendClickHandler = function(e, legendItem) {\n    let index = legendItem.datasetIndex;\n    let ci = this.chart;\n    let meta = ci.getDatasetMeta(index);\n\n    if (meta.hidden === null) {\n        if (ci.data.datasets[index].hidden) {\n            HIDDEN_COURSES = HIDDEN_COURSES.filter(course => course !== ci.data.datasets[index].label);\n            updateHiddenCourses();\n            ci.data.datasets[index].hidden = false;\n        } else {\n            HIDDEN_COURSES.push(ci.data.datasets[index].label);\n            updateHiddenCourses();\n            ci.data.datasets[index].hidden = true;\n        }\n    }\n\n    ci.update();\n};\n\n/**\n * Updates the hidden courses user preference, based on the HIDDEN_COURSES array.\n */\nconst updateHiddenCourses = function() {\n    let request = {\n        methodname: 'core_user_update_user_preferences',\n        args: {\n            preferences: [\n                {\n                    type: 'local_ace_teacher_hidden_courses',\n                    value: HIDDEN_COURSES.join(\",\")\n                }\n            ]\n        }\n    };\n\n    Ajax.call([request])[0]\n        .fail(Notification.exception);\n};\n\n/**\n * Gets the hidden courses from the user preferences.\n *\n * @returns {Promise}\n */\nconst getHiddenCourses = function() {\n    let request = {\n        methodname: 'core_user_get_user_preferences',\n        args: {\n            name: 'local_ace_teacher_hidden_courses'\n        }\n    };\n    return Ajax.call([request])[0];\n};\n\n/**\n * Display an error on the page, which replaces the engagement graphs on the page.\n *\n * @param {string} langString Text displayed on the page\n */\nconst displayError = (langString) => {\n    let chartArea = document.querySelector('#chart-area-engagement');\n    let chartImage = chartArea.querySelector('.chart-image');\n    chartImage.innerHTML = langString;\n};\n\n/**\n * Get teacher course analytics data\n *\n * @param {Number|null} start Start time of analytics period in seconds\n * @param {Number|null} end End of analytics period in seconds\n * @returns {Promise}\n */\nconst getTeacherCourseEngagementData = (start, end) => {\n    return Ajax.call([{\n        methodname: 'local_ace_get_teacher_course_analytics_graph',\n        args: {\n            'start': start,\n            'end': end\n        },\n    }])[0];\n};\n"],"file":"teacher_course_engagement.min.js"}